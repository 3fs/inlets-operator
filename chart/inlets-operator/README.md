# inlets-operator chart

## Pre-reqs

* Configure [helm and tiller](https://github.com/openfaas/faas-netes/blob/master/HELM.md)

* Add the chart repo

  ```sh
  helm repo add inlets-operator https://inlets.github.io/inlets-operator/
  helm repo update
  ```

* Create your access key secret, then apply one of the following configurations.

* Create a secret with an API key generated by DigitalOcean

    ```sh
    kubectl create secret generic inlets-access-key \
    --from-literal inlets-access-key="$(cat ~/Downloads/do-access-token)"
    ```


* Install the CRD:

    ```sh
    kubectl apply -f ./artifacts/crd.yaml
    ```

## Deploy an example configuration

### DigitalOcean with inlets OSS (recommended)

```sh
git clone https://github.com/inlets/inlets-operator
cd inlets-operator/chart
helm install inlets-operator --name inlets-operator
```

### DigitalOcean with inlets-pro

```sh
git clone https://github.com/inlets/inlets-operator
cd inlets-operator/chart
helm install inlets-operator --name inlets-operator \
  --set license=JWT_GOES_HERE
```

### Packet.com with inlets OSS

```sh
git clone https://github.com/inlets/inlets-operator
cd inlets-operator/chart
helm install inlets-operator --name inlets-operator \
  --set provider=packet,region=ams1,packetProjectId=PACKETID
```
